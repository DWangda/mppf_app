<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar class="title">
      <ion-title>
        <img class="menu-logo" src="assets/header-logo.png" alt="logo" />
      </ion-title>
    </ion-toolbar>
    <hr
      style="border: none; height: 1px; background-color: #5bd1d7; width: 90%"
    />
  </ion-header>
  <ion-content>
    <p class="menu-header">Notification</p>
    <div class="menuitem">
      <img src="assets/icon/notiRound.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">Notifications</p>
        <p style="color: #7c7c7c7c; font-size: 14px">
          Receive app notifications
        </p>
      </div>
      <ion-toggle
        class="custom-toggle"
        [enableOnOffLabels]="true"
        [checked]="true"
      ></ion-toggle>
    </div>

    <p class="menu-header">Contact</p>
    <div class="menuitem" (click)="goToFeedback()">
      <img src="assets/icon/feedback.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">Feedback</p>
        <p style="color: #7c7c7c7c; font-size: 14px">Give us suggestion</p>
      </div>
    </div>

    <div class="menuitem" (click)="goToFAQ()">
      <img src="assets/icon/chatbubbles.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">FAQ</p>
        <p style="color: #7c7c7c7c; font-size: 14px">
          Frequently asked questions
        </p>
      </div>
    </div>

    <div class="menuitem" (click)="goToPolicy()">
      <img src="assets/icon/policy.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">Privacy Policy</p>
        <p style="color: #7c7c7c7c; font-size: 14px">Read our privacy policy</p>
      </div>
    </div>

    <div class="menuitem" (click)="goToAbout()">
      <img src="assets/icon/about.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">About</p>
        <p style="color: #7c7c7c7c; font-size: 14px">About the app</p>
      </div>
    </div>

    <p class="menu-header">User Session</p>
    <div class="menuitem" (click)="logout()">
      <img src="assets/icon/logout.svg" alt="" />
      <div>
        <p style="color: #5bd1d7">Logout</p>
      </div>
    </div>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-header style="border: 0" [translucent]="true">
    <ion-toolbar
      mode="ios"
      border="none"
      style="
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        padding-top: 16px;
      "
    >
      <ion-buttons slot="start">
        <ion-menu-button style="color: #5bd1d7"></ion-menu-button>
      </ion-buttons>

      <ion-title>
        <img class="logo" src="assets/header-logo.png" alt="logo" />
      </ion-title>

      <ion-buttons slot="end">
        <ion-button (click)="goToContact()">
          <img class="call-icon" src="assets/icon/call-outline.svg" alt="" />
        </ion-button>

        <ion-button (click)="goToNotification()">
          <img
            class="call-icon"
            src="assets/icon/notifications-outline.svg"
            alt=""
          />
          <span
            *ngIf="hasNewNotification"
            style="
              position: absolute;
              top: 1px;
              right: 1px;
              width: 10px;
              height: 10px;
              background-color: red;
              border-radius: 50%;
            "
          ></span>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <div id="container">
      <div class="greet">
        <h1>
          <span [ngClass]="{ 'dzongkha-greet': currentLang === 'dz' }">
            {{ 'USER.GREET' | translate }},
          </span>
        </h1>
        <h2>{{ userName }}</h2>
      </div>

      <!-- Dynamic liveliness message -->
      <div class="time">
        <h1>{{ livelinessMessage }}</h1>
      </div>

      <div class="custom-banner">
        <div class="banner-media">
          <ng-container *ngIf="currentBanner">
            <img
              *ngIf="currentBanner.resourceType.toLowerCase() === 'image'"
              [src]="convertToUrl(currentBanner)"
              [alt]="currentBanner.contentName"
            />
            <video
              *ngIf="currentBanner.resourceType.toLowerCase() === 'video'"
              [src]="convertToUrl(currentBanner)"
              autoplay
              muted
              loop
              playsinline
            ></video>
          </ng-container>
        </div>

        <!-- Navigation arrows -->
        <div class="banner-nav">
          <button (click)="prevBanner()">‹</button>
          <button (click)="nextBanner()">›</button>
        </div>
      </div>

      <div class="line-with-text">
        <span [ngClass]="{ 'dzongkha-style': currentLang === 'dz' }">
          {{ 'SERVICES.TITLE' | translate }}
        </span>
      </div>

      <div class="main-content">
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-card (click)="goToUserDetails()">
                <ion-card-header>
                  <ion-card-subtitle class="card-title">
                    <span
                      [ngClass]="{ 'dzongkha-style': currentLang === 'dz' }"
                    >
                      {{ 'USER.TITLE' | translate }}
                    </span>
                  </ion-card-subtitle>
                  <img class="card-img" src="assets/icon/person.svg" alt="" />
                </ion-card-header>
              </ion-card>
            </ion-col>

            <ion-col>
              <ion-card (click)="goToContactDetails()">
                <ion-card-header>
                  <ion-card-subtitle class="card-title">
                    <span
                      [ngClass]="{ 'dzongkha-style': currentLang === 'dz' }"
                    >
                      {{ 'USER.CONTACT' | translate }}
                    </span>
                  </ion-card-subtitle>
                  <img class="card-img" src="assets/icon/call.svg" alt="" />
                </ion-card-header>
              </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-card (click)="goToReport()">
                <ion-card-header>
                  <ion-card-subtitle class="card-title">
                    <span
                      [ngClass]="{ 'dzongkha-style': currentLang === 'dz' }"
                    >
                      {{ 'USER.VIEW' | translate }}
                    </span>
                  </ion-card-subtitle>
                  <img class="card-img" src="assets/icon/reader.svg" alt="" />
                </ion-card-header>
              </ion-card>
            </ion-col>

            <ion-col>
              <ion-card
                (click)="isLivenessEnabled && goToLiveness()"
                [class.disabled]="!isLivenessEnabled"
              >
                <ion-card-header>
                  <ion-card-subtitle class="card-title">
                    <span
                      [ngClass]="{ 'dzongkha-style': currentLang === 'dz' }"
                    >
                      {{ 'USER.TEST' | translate }}
                    </span>
                  </ion-card-subtitle>
                  <img
                    class="card-img"
                    src="assets/icon/lock-closed.svg"
                    alt=""
                  />
                </ion-card-header>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  </ion-content>
</div>
